<!DOCTYPE html>
<html lang="ko">
 <head>
  <title>pen</title>
  <meta charset="utf-8"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <style>
		*{margin:0; padding:0;}
		body{margin:0; padding:0;}

		#content{width:100%;}

		.penArea{width:50px; height:650px; margin:50px auto; position:relative; /*outline:1px solid red;*/}
		.cap{width:30px; position:absolute; left:0; top:0;}
		.cap img{width:100%;}

		.lead{width:2px; height:45px; background-color:#aaa; position:absolute; left:13px; top:365px; /*z-index:1;*/}

		.pen{width:26px; position:absolute; top:45px;}
		.pen img{width:100%; height:100%;}
  </style>
  <script>
		$(document).ready(function(){
			/*
				[작업순서]

				1) 샤프심 뚜껑을 클릭하면 눌리듯이 만들고, 마우스가 업되면 원래대로 돌아도록 만들기
				2) 샤프심이 길어지도록 만들기, 빠져나오도록 만들기			
			
				[중요 포인트]
					mouse 기능찾기

					1) click, 마우스를 누르고, 올리는 순간을 만들 수 없음
					2) mousedown	, 마우스를 누르고 있을 때
					3) mouseup	, 마우스에서 손을 땠을때 ( 마우스 버튼이 올라 갔을때)

				
				[조건문 문들기]
					마우스가 눌릴때 마다 샤프심이 길어지도록 만들기

					0과 같다면 (다시 돌아오도록 만들기)
					1과 같다면 늘어나게 만들기
					2와 같다면 늘어나게 만들기
			
			*/
			
			var count = 0;

			$(".cap").mousedown(function(){

				count++;
				console.log(count);

				$(this).css({"top":"10px"});

				$(".lead").css({"height":+(30*count)+"px","top":"365px","transform":"ratate(0deg)"});

				if(count==5){
					$(".lead").css({"top":"420px","transform":"rotate(-4deg)"});
					count=0;
				}
				/*
				if(count == 0){
					$(".lead").css({"height":"45px","top":"365px","transform":"rotate(0deg)"});
					count=1;
				}
				else if(count==1){
					$(".lead").css({"height":"50px"});
					count=2;
				}
				else if(count==2){
					$(".lead").css({"height":"65px"});
					count=3;
				}
				else if(count==3){
					$(".lead").css({"height":"75px"});
					count=4;
				}
				else if(count==4){
					$(".lead").css({"top":"420px","transform":"rotate(-4deg)"});
					count=0;
				}
				*/
				/*
					[특징]
						다시 클릭하면 원래대로 돌아가야 하지만 javascript의 특징은 다시 설정해주지
						않으면 마지막 값을 인식하기 때문에 초기값이 적용되어야 한다!
				*/
				
				
			}).mouseup(function(){
				$(this).css({"top":"0"});
			});
		
		});
  </script>
 </head>
 <body>
	<div id="content">
		<div class="penArea">
			<p class="cap">
				<img src="img/cap.png" alt="cap"/>
			</p>
			<p class="lead">
			</p>
			<p class="pen">
				<img src="img/pen.png" alt="pen"/>
			</p>
		</div>
	</div>
 </body>
</html>
